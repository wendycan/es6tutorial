<!DOCTYPE html><html><head><meta charset="utf-8" /><title>ECMAScript6 特性</title><link href="/stylesheets/app.css" rel="stylesheet" type="text/css" /><script src="/javascripts/app.js" type="text/javascript"></script></head><body><div class="sticky"><nav class="top-bar" data-options="sticky_on: large" data-topbar="" role="navigation"><ul class="title-area"><li class="name"><h1><a href="/"> ECMAScript6 Tutorial</a></h1></li><lwi class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></lwi></ul><section class="top-bar-section"><ul class="right"><li id="tool"><a href="/doc/start.html"> 前言</a></li><li id="optimisation"><a href="/doc/optimisation.html"> 优化</a></li><li id="syntax"><a href="/doc/syntax.html"> 语法</a></li><li id="bindings"><a href="/doc/bindings.html"> 绑定</a></li><li id="functions"><a href="/doc/functions.html"> 函数</a></li><li id="built-ins"><a href="/doc/built-ins.html"> 内建</a></li><li id="built-in-extensions"><a href="/doc/built-in-extensions.html"> 内建扩展</a></li><li id="subclassing"><a href="/doc/subclassing.html"> 子类</a></li><li id="misc"><a href="/doc/misc.html"> 混杂</a></li><li id="annex-b"><a href="/doc/annex-b.html"> 附录</a></li><li id="examples"><a href="/examples"> 实例</a></li><li><a href="http://kangax.github.io/compat-table/es6/#ie11tp" target="_blank"> 兼容性</a></li></ul></section></nav></div><div class="wrap"><div class="row"><div class="large-3 columns show-for-large-up"><table class="pos-fixed scroll-nav"></table></div><div class="large-9 columns"><div class="feature"><h4>一、块级函数声明</h4><h5 class="subheader">hoisted block-level function declaration</h5><div class="feature-content"><pre><code class="javascript">// Note: only available outside of strict mode.
{ function f() { return 1; } }
  function g() { return 1; }
{ function g() { return 2; } }
{ function h() { return 1; } }
  function h() { return 2; }
console.log(f() === 1 && g() === 2 && h() === 1);</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>二、_proto_ 对象字面量</h4><h5 class="subheader">__proto__ in object literals</h5><div class="feature-content"><h5>1.基本支持</h5><h5 class="subheader">basic support</h5><pre><code class="javascript">console.log({ __proto__ : [] } instanceof Array
  && !({ __proto__ : null } instanceof Object));</code></pre><p>结果为 true。</p><h5>2.多个 _proto_ 会报错</h5><h5 class="subheader">multiple __proto__ is an error</h5><pre><code class="javascript">try {
  eval("({ __proto__ : [], __proto__: {} })");
}
catch(e) {
  console.log(true);
}</code></pre><p>结果为 true。</p><h5>3.不是一个可计算的属性</h5><h5 class="subheader">not a computed property</h5><pre><code class="javascript">if (!({ __proto__ : [] } instanceof Array)) {
  console.log(false);
}
var a = "__proto__";
console.log(!({ [a] : [] } instanceof Array));</code></pre><p>结果为 true。</p><h5>4.不是一个简写的属性</h5><h5 class="subheader">not a shorthand property</h5><pre><code class="javascript">if (!({ __proto__ : [] } instanceof Array)) {
  console.log(false);
}
var __proto__ = [];
console.log(!({ __proto__ } instanceof Array));</code></pre><p>结果为 true。</p><h5>5.不是一个简写的方法</h5><h5 class="subheader">not a shorthand method</h5><pre><code class="javascript">if (!({ __proto__ : [] } instanceof Array)) {
  console.log(false);
}
console.log(!({ __proto__(){} } instanceof Function));</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>三、对象原型 _proto_</h4><h5 class="subheader">Object.prototype.__proto__</h5><div class="feature-content"><h5>1.获取原型</h5><h5 class="subheader">get prototype</h5><pre><code class="javascript">var A = function(){};
console.log((new A()).__proto__ === A.prototype);</code></pre><p>结果为 true。</p><h5>2.设定原型</h5><h5 class="subheader">set prototype</h5><pre><code class="javascript">var o = {};
o.__proto__ = Array.prototype;
console.log(o instanceof Array);</code></pre><p>结果为 true。</p><h5>3.Object.create</h5><h5 class="subheader">absent from Object.create(null)</h5><pre><code class="javascript">var o = Object.create(null), p = {};
o.__proto__ = p;
console.log(Object.getPrototypeOf(o) !== p);</code></pre><p>结果为 true。</p><h5>4.hasOwnProperty</h5><h5 class="subheader">present in hasOwnProperty()</h5><pre><code class="javascript">console.log(Object.prototype.hasOwnProperty('__proto__'));</code></pre><p>结果为 true。</p><h5>5.正确的属性描述</h5><h5 class="subheader">correct property descriptor</h5><pre><code class="javascript">var desc = Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");
var A = function(){};
console.log(desc
  && "get" in desc
  && "set" in desc
  && desc.configurable
  && !desc.enumerable);</code></pre><p>结果为 true。</p><h5>6.getOwnPropertyNames</h5><h5 class="subheader">present in Object.getOwnPropertyNames()</h5><pre><code class="javascript">console.log(Object.getOwnPropertyNames(Object.prototype).indexOf('__proto__') > -1);</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>四、字符串原型 HTML 方法</h4><h5 class="subheader">String.prototype HTML methods</h5><div class="feature-content"><h5>1.存在</h5><h5 class="subheader">existence</h5><pre><code class="javascript">var i, names = ["anchor", "big", "bold", "fixed", "fontcolor", "fontsize",
  "italics", "link", "small", "strike", "sub", "sup"];
for (i = 0; i < names.length; i++) {
  if (typeof String.prototype[names[i]] !== 'function') {
    console.log(false);
  }
}
console.log(true);</code></pre><p>结果为 true。</p><h5>2.tag name 是小写</h5><h5 class="subheader">tags' names are lowercase</h5><pre><code class="javascript">var i, names = ["anchor", "big", "bold", "fixed", "fontcolor", "fontsize",
  "italics", "link", "small", "strike", "sub", "sup"];
for (i = 0; i < names.length; i++) {
  if (""[names[i]]().toLowerCase() !== ""[names[i]]()) {
    console.log(false);
  }
}
console.log(true);</code></pre><p>结果为 true。</p><h5>3.参数里的引号会被转义</h5><h5 class="subheader">quotes in arguments are escaped</h5><pre><code class="javascript">var i, names = ["anchor", "fontcolor", "fontsize", "link"];
for (i = 0; i < names.length; i++) {
  if (""[names[i]]('"') !== ""[names[i]]('&' + 'quot;')) {
    console.log(false);
  }
}
console.log(true);</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>五、正则表达式 compile</h4><h5 class="subheader">RegExp.prototype.compile</h5><div class="feature-content"><pre><code class="javascript">console.log(typeof RegExp.prototype.compile === 'function');</code></pre><p>结果为 true。</p></div></div></div></div><script type="text/javascript">$(document).ready(function() {
  var animate = false;
  var active_nav =  function(){
    $('.feature h4').each(function(i, el){
      if (animate) return;
      if (Math.abs($(window).scrollTop() - $(el).offset().top) < 60) {
        $('.scroll-nav td').removeClass('active');
        $($('.scroll-nav td')[i]).addClass('active');
      }
    });
  };
  active_nav();
  $('.scroll-nav').width($('.scroll-nav').parent('.large-3').width()-20);
  $('.feature h4').each(function(i, el){
    $(this).attr('data-text', $(el).text().split('、')[1]);
    if(i == 0){
      $('.scroll-nav').append('<tr><td class="active">' + $(el).text().split('、')[1] + '</td></tr>');
    } else {
      $('.scroll-nav').append('<tr><td>' + $(el).text().split('、')[1] + '</td></tr>');
    }
  });
  $('.scroll-nav td').on('click', function(e){
    e.preventDefault();
    if($(this).find('a').length > 0){
      var target = $( $(this).find('a').attr('href') );
    } else {
      var target = $('.feature').find('[data-text="' + $(this).text() + '"]');
    }
    $('.scroll-nav td').removeClass('active');
    $(this).addClass('active');
    animate = true;
    $('html, body').animate({
      scrollTop: target.offset().top - 48
    }, 1000, 
    function(){
      animate = false;
    });
  });
  $(document).scroll(function(){
    active_nav();
  });
});</script><script type="text/javascript">$("#annex-b").addClass('active');</script></div><div class="footer wrap"><div class="row"><div class="large-8 large-centered small-10 small-centered"><p>项目托管在 <a href="https://github.com/wendycan/es6tutorial" target="_blank"><i class="fa fa-ok"></i>GitHub</a></p><p>作者 <a href="https://github.com/wendycan" target="_blank">wendy</a></p><p>友情链接<a href="http://wendycan.org" target="_blank">wendy的小站</a><a href="http://yuetai.wendycan.org" target="_blank">阅台</a></p></div></div></div><script type="text/javascript">$(document).foundation();
hljs.initHighlightingOnLoad();</script></body></html>